# 2206 ë²½ ë¶€ìˆ˜ê³  ì´ë™í•˜ê¸° - BFS

[](https://www.acmicpc.net/problem/2206)

## ë¬¸ì œ ì¡°ê±´

- ë§µì€ N*M í–‰ë ¬ì´ë‹¤.  (N(1 â‰¤ N â‰¤ 1,000), M(1 â‰¤ M â‰¤ 1,000))
- 0ì€ ì´ë™í•  ìˆ˜ ìˆëŠ” ê³³ì„ ë‚˜íƒ€ë‚´ê³ , 1ì€ ì´ë™í•  ìˆ˜ ì—†ëŠ” ë²½ì´ ìˆëŠ” ê³³ì„ ë‚˜íƒ€ë‚¸ë‹¤.
- ì´ë™í•˜ëŠ” ë„ì¤‘ì— í•œ ê°œì˜ ë²½ì„ ë¶€ìˆ˜ê³  ì´ë™í•˜ëŠ” ê²ƒì´ ì¢€ ë” ê²½ë¡œê°€ ì§§ì•„ì§„ë‹¤ë©´, ë²½ì„ **í•œ ê°œ** ê¹Œì§€ ë¶€ìˆ˜ê³  ì´ë™í•˜ì—¬ë„ ëœë‹¤.
- ì²«ì§¸ ì¤„ì— ìµœë‹¨ ê±°ë¦¬ë¥¼ ì¶œë ¥í•œë‹¤. ë¶ˆê°€ëŠ¥í•  ë•ŒëŠ” -1ì„ ì¶œë ¥í•œë‹¤.

## í’€ì´ ê³¼ì • #1

ëª¨ë“  ë²½ì„ í•˜ë‚˜ì”© ë¶€ìˆ˜ë©° BFSë¡œ ìµœë‹¨ ê±°ë¦¬ë¥¼ êµ¬í•˜ëŠ” ì‹ìœ¼ë¡œ ë¬¸ì œë¥¼ í’€ì—ˆìŠµë‹ˆë‹¤.

```java
class Main
{
    static int answer;
    static int n, m;
    static int[][] matrix;
    static int[][] count;
    static int[] dx = {1, 0, -1, 0};
    static int[] dy = {0, 1, 0, -1};
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st;

        st = new StringTokenizer(br.readLine());

        n = Integer.parseInt(st.nextToken());
        m = Integer.parseInt(st.nextToken());

        matrix = new int[n][m];
        count = new int[n][m];
        answer = Integer.MAX_VALUE;

        for(int i=0; i<n; i++) {
            String[] s = br.readLine().split("");
            for(int j=0; j<m; j++) {
                matrix[i][j] = Integer.parseInt(s[j]);
            }
        }

        for(int i=0; i<n; i++) {
            for(int j=0; j<m; j++) {
                if ( matrix[i][j] == 1 ) {
                    matrix[i][j] = 0;
                    bfs(0, 0);
                    count = new int[n][m];
                    matrix[i][j] = 1;
                }
            }
        }

        if ( answer == Integer.MAX_VALUE ) {
            System.out.println(-1);
        } else {
            System.out.println(answer);
        }

    }
    public static void bfs(int x, int y) {
        Queue<Node> q = new LinkedList<>();

        q.add(new Node(x, y));
        count[x][y] = 1;
        while(!q.isEmpty()) {
            Node cur = q.poll();

            if ( cur.x == n-1 && cur.y == m-1 ) {
                answer = Math.min(answer, count[cur.x][cur.y]);
                return;
            }

            for(int i=0; i<4; i++) {
                int nx = cur.x + dx[i];
                int ny = cur.y + dy[i];

                if ( (nx>=0 && ny>=0) && (nx<n && ny<m) ) {
                    if ( matrix[nx][ny] == 0 && count[nx][ny] == 0 ) {
                        count[nx][ny] = count[cur.x][cur.y] + 1;
                        q.add(new Node(nx, ny));
                    }
                }
            }
        }
    }
    public static class Node {
        int x;
        int y;

        public Node(int x, int y) {
            this.x = x;
            this.y = y;
        }
    }
}
```

## ğŸ”´

ì‹œê°„ ì´ˆê³¼ë¡œ í•´ë‹¹ ì½”ë“œëŠ” í‹€ë ¸ìŠµë‹ˆë‹¤.

ë¬¸ì œ ì¡°ê±´ ì¤‘

- N(1 â‰¤ N â‰¤ 1,000), M(1 â‰¤ M â‰¤ 1,000)
- ë²½ì„ ë¶€ìˆ˜ì§€ ì•Šì•„ë„ ëœë‹¤.

ë‘ ì¡°ê±´ì„ ê³ ë ¤í•˜ì§€ ì•Šì€ ë¬¸ì œë„ ìˆìœ¼ë©°, ë²½ì´ ìˆëŠ” ì¹¸ë§ˆë‹¤ í•œë²ˆì”© BFSë¥¼ ìˆ˜í–‰í•˜ì—¬ ë¶ˆí•„ìš”í•œ ë°˜ë³µ íƒìƒ‰ â†’ ì‹œê°„ ì´ˆê³¼ë¡œ ì´ì–´ì¡ŒìŠµë‹ˆë‹¤.

## âš ï¸

ë²½ì„ í•œë²ˆë§Œ ë¶€ìˆ  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë²½ì„ ë¶€ìˆœ íšŸìˆ˜ì— ë”°ë¼ ìµœë‹¨ ê±°ë¦¬ê°€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì™„ì „ íƒìƒ‰ â†’ â€˜ë²½ì„ ë¶€ìˆ˜ê±°ë‚˜ ë¶€ìˆ˜ì§€ ì•Šê±°ë‚˜â€™ë¥¼ ê³ ë ¤í•˜ì—¬ 3ì°¨ì› ë°°ì—´ì„ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤. count[x][y][ë¶€ìˆœ íšŸìˆ˜]

```java
class Main
{
    static int n, m;
    static int[][] matrix;
    static int[][][] count;
    static int[] dx = {1, 0, -1, 0};
    static int[] dy = {0, 1, 0, -1};
    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st;

        st = new StringTokenizer(br.readLine());

        n = Integer.parseInt(st.nextToken());
        m = Integer.parseInt(st.nextToken());

        matrix = new int[n][m];
        count = new int[n][m][2];

        for(int i=0; i<n; i++) {
            String[] s = br.readLine().split("");
            for(int j=0; j<m; j++) {
                matrix[i][j] = Integer.parseInt(s[j]);
            }
        }

        int answer = bfs(new Node(0, 0, 0));

        System.out.println(answer);
    }
    public static int bfs(Node node) {
        Queue<Node> q = new LinkedList<>();

        q.add(node);
        count[node.x][node.y][node.w] = 1;

        while(!q.isEmpty()) {
            Node cur = q.poll();
            int x = cur.x;
            int y = cur.y;
            int w = cur.w;

            for(int i=0; i<4; i++) {
                int nx = x + dx[i];
                int ny = y + dy[i];
								
                if ( (nx>=0 && ny>=0) && (nx<n && ny<m) ) {
		                // ë²½ì´ ì—†ëŠ” ê³³ì¼ ë•Œ
                    if ( matrix[nx][ny] == 0 ) {
		                    // ê°€ë³´ì§€ ì•Šì€ ê³³ì¼ ë•Œ
                        if ( count[nx][ny][w] == 0 ) {
                            q.add(new Node(nx, ny, w));
                            count[nx][ny][w] = count[x][y][w] + 1;
                            // ë„ì°© ì§€ì ì¼ ë•Œ
                            if ( nx == n-1 && ny == m-1 ) {
                                return count[nx][ny][w];
                            }
                        }
                    // ë²½ì´ ìˆì„ ë•Œ
                    } else {
		                    // ë¶€ìˆœ íšŸìˆ˜ê°€ 0ì¼ ë•Œ
                        if ( w == 0 ) {
                            if ( count[nx][ny][1] == 0 ) {
                                q.add(new Node(nx, ny, 1));
                                count[nx][ny][1] = count[x][y][w] + 1;
                                if ( nx == n-1 && ny == m-1 ) {
                                    return count[nx][ny][1];
                                }
                            }
                        }
                    }
                }
            }
        }
        return -1;
    }
    public static class Node {
        int x;
        int y;
        int w;
        public Node(int x, int y, int w) {
            this.x = x;
            this.y = y;
            this.w = w;
        }
    }
}
```